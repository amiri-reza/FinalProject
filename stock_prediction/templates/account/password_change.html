{% extends 'base_for_allauth.html' %} {% load widget_tweaks %} {% load static %}
{% load i18n %} {% block head_title %}{% trans "Change Password" %}{% endblock %}
{% block content %}
<main class="form-signin w-100 m-auto">
  {% if messages %}
    <div>
      <ul>
        {% for message in messages %}
        <li>{{message}}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}
  <form 
    method="POST" 
    action="{% url 'mytrading:change-password' %}" 
    class="password_change"
  >
    <img
      style="border-radius: 7%"
      class="mb-4"
      src="{% static 'img/my_4_logo.png' %}"
      alt=""
      width="180"
      height="180"
    />

    <h1>{% trans "Change Password" %}</h1>
    {% csrf_token %}
    <div class="form-floating mb-2">
      {% render_field form.oldpassword id="oldPassword" name="password" type="password" autocomplete="off" required=True class="form-control" %}
      <label for="floatingPassword1">Current Password</label>
    </div>

    <div class="form-floating mb-1">
      {% render_field form.password1 id="floatingPassword1" name="password" type="password" autocomplete="off" required=True class="form-control" %}
      <label for="floatingPassword1">Password</label>
    </div>

    <div class="form-floating mb-3">
      {% render_field form.password2 id="floatingPassword2" name="password" type="password" autocomplete="off" required=True class="form-control" %}
      <label for="floatingPassword2">Password again</label>
    </div>

    <button class="w-100 btn btn-lg btn-primary" type="submit" name="action">{% trans "Change Password" %}</button>
    <a href="{{ request.META.HTTP_REFERER }}">
      <input type="button" class="btn btn-outline-primary w-100 mt-2" name="Cancel" value="Cancel">
    </a>
    <hr />
    <a href="{% url 'account_reset_password' %}">{% trans "Forgot Password?" %}</a>

  </form>
</main>
{% endblock %}